<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="app"></div>
  <script type="module">
    // import { reactive, effect } from '/node_modules/@vue/reactivity/dist/reactivity.esm-browser.js'
    
    import { reactive, effect } from './reactivity.js'
    
    const state = reactive({
      flag: true,
      name: 'lz',
      age: 24,
      address: {
        city: '北京'
      }
    })
    // console.log(state.name, state.age)
    // let runner = effect(() => {
    //   console.log('effect')
    //   app.innerHTML = state.flag ? state.age + state.name : state.name
    // }, {
    //   scheduler: () => {
    //     console.log(runner.effect)
    //     runner()
    //   }
    // })
    effect(() => {
      app.innerHTML = state.address.city
    })
    setTimeout(() => {
      state.address.city = '上海'
    })
    // setTimeout(() => {
    //   state.flag = false
    //   setTimeout(() => {
    //     state.name = 25
    //   }, 1000)
    // }, 2000)
  </script>
</body>
</html>